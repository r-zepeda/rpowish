<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>TIMER - DOJ ORP V</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'crimson': '#540219',
                        'gold': '#D4AF37',
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap');

        body {
            background: #540219;
            animation: backgroundPulse 10s infinite ease-in-out;
            margin: 0;
            overflow: hidden;
            font-family: 'Playfair Display', serif;
            color: white;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        @keyframes backgroundPulse {
            0%, 100% { background-color: #540219; }
            50% { background-color: #7a0b2a; }
        }

        .dot-overlay {
            position: fixed;
            inset: 0;
            background-image: radial-gradient(rgba(212, 175, 55, 0.15) 1px, transparent 1px);
            background-size: 30px 30px;
            pointer-events: none;
            z-index: 1;
        }

        .snowflake {
            position: fixed;
            top: -10px;
            color: rgba(255, 255, 255, 0.4);
            user-select: none;
            pointer-events: none;
            z-index: 10;
            animation: fall linear forwards;
        }

        @keyframes fall {
            to { transform: translateY(110vh) rotate(360deg); }
        }

        .cinzel { font-family: 'Cinzel', serif; }

        .gold-text {
            color: #D4AF37;
            background: linear-gradient(to right, #a16207 0%, #D4AF37 25%, #fef08a 50%, #D4AF37 75%, #a16207 100%);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shine 5s linear infinite;
        }

        @keyframes shine {
            to { background-position: 200% center; }
        }

        .timer-val {
            font-size: 9rem;
            font-weight: bold;
            line-height: 1;
        }

        .control-btn {
            @apply border border-gold/40 px-8 py-2 cinzel text-xs tracking-widest transition-all rounded-full bg-black/20 hover:bg-gold hover:text-crimson opacity-80 hover:opacity-100;
        }

        .custom-input {
            background: transparent;
            border-bottom: 2px solid rgba(212, 175, 55, 0.3);
            color: #D4AF37;
            text-align: center;
            outline: none;
            font-family: 'Cinzel', serif;
            transition: border-color 0.3s ease;
        }

        .custom-input:focus {
            border-color: #D4AF37;
        }

        @media (max-width: 640px) {
            .timer-val { font-size: 4.5rem; }
            #activityTitle { font-size: 1.5rem !important; }
        }
    </style>
</head>
<body>
    <div class="dot-overlay"></div>
    <div id="snow-container"></div>

    <nav class="fixed top-0 w-full py-6 flex justify-center gap-10 z-50 bg-gradient-to-b from-black/40 to-transparent">
        <a href="index.html" class="text-gold font-bold cinzel text-sm opacity-80 hover:opacity-100 hover:scale-110 transition-all">HOME</a>
        <a href="program.html" class="text-gold font-bold cinzel text-sm opacity-80 hover:opacity-100 hover:scale-110 transition-all">PROGRAM</a>
        <a href="timer.html" class="text-gold font-bold cinzel text-sm opacity-80 hover:opacity-100 hover:scale-110 transition-all">TIMER</a>

            <a href="roll.html" class="text-gold font-bold cinzel text-sm opacity-80 hover:opacity-100 hover:scale-110 transition-all">Roll</a>
            <a href="reveal.html" class="text-gold font-bold cinzel text-sm opacity-80 hover:opacity-100 hover:scale-110 transition-all">Reveal</a>
    </nav>

    <main class="relative z-10 text-center w-full max-w-4xl px-4">
        <div class="mb-2">
            <input type="text" id="activityTitle" placeholder="ENTER ACTIVITY NAME" 
                   class="custom-input w-full text-3xl md:text-5xl uppercase tracking-[0.2em] font-bold py-2 placeholder:opacity-30">
        </div>

        <div id="setup" class="mb-10 flex flex-col items-center">
            <div class="flex items-center gap-4">
                <span class="cinzel text-gold/60 text-xs tracking-widest">SET DURATION:</span>
                <input type="number" id="minutesInput" value="3" min="1" max="99" 
                       class="custom-input w-20 text-2xl font-bold py-1">
                <span class="cinzel text-gold/60 text-xs tracking-widest">MINS</span>
            </div>
        </div>

        <div id="display" class="mb-12">
            <span id="timerDisplay" class="timer-val cinzel gold-text">03:00</span>
        </div>

        <div class="flex gap-4 justify-center mb-16">
            <button id="startBtn" onclick="startTimer()" class="control-btn">START</button>
            <button id="pauseBtn" onclick="pauseTimer()" class="control-btn hidden">PAUSE</button>
            <button onclick="resetTimer()" class="control-btn">RESET</button>
        </div>

        <div class="flex items-center justify-center gap-6">
            <div class="h-[1px] bg-gradient-to-r from-transparent to-gold/40 w-32"></div>
            <span class="text-white/40 text-2xl">❄</span>
            <div class="h-[1px] bg-gradient-to-l from-transparent to-gold/40 w-32"></div>
        </div>
    </main>

    <script>
        let countdown;
        let timeLeft;
        let isPaused = false;

        const display = document.getElementById('timerDisplay');
        const minutesInput = document.getElementById('minutesInput');
        const startBtn = document.getElementById('startBtn');
        const pauseBtn = document.getElementById('pauseBtn');

        function updateDisplay(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            display.innerText = `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }

        function startTimer() {
            if (!isPaused) {
                timeLeft = parseInt(minutesInput.value) * 60;
            }
            
            if (isNaN(timeLeft) || timeLeft <= 0) return;

            isPaused = false;
            startBtn.classList.add('hidden');
            pauseBtn.classList.remove('hidden');

            countdown = setInterval(() => {
                timeLeft--;
                updateDisplay(timeLeft);

                if (timeLeft <= 0) {
                    clearInterval(countdown);
                    display.innerText = "TIME'S UP!";
                    startBtn.classList.remove('hidden');
                    startBtn.innerText = "START";
                    pauseBtn.classList.add('hidden');
                    isPaused = false;
                }
            }, 1000);
        }

        function pauseTimer() {
            clearInterval(countdown);
            isPaused = true;
            startBtn.classList.remove('hidden');
            startBtn.innerText = "RESUME";
            pauseBtn.classList.add('hidden');
        }

        function resetTimer() {
            clearInterval(countdown);
            isPaused = false;
            const initialMins = minutesInput.value;
            updateDisplay(initialMins * 60);
            startBtn.classList.remove('hidden');
            startBtn.innerText = "START";
            pauseBtn.classList.add('hidden');
        }

        minutesInput.addEventListener('input', () => {
            if(!isPaused && !countdown) {
                updateDisplay(minutesInput.value * 60);
            }
        });

        function createSnow() {
            const container = document.getElementById('snow-container');
            const flakes = ['❄', '❅', '❆', '•'];
            setInterval(() => {
                const flake = document.createElement('div');
                flake.className = 'snowflake';
                flake.textContent = flakes[Math.floor(Math.random() * flakes.length)];
                flake.style.left = Math.random() * 100 + 'vw';
                flake.style.animationDuration = Math.random() * 5 + 7 + 's';
                flake.style.opacity = Math.random() * 0.5 + 0.2;
                flake.style.fontSize = Math.random() * 15 + 5 + 'px';
                flake.style.filter = `blur(${Math.random() * 2}px)`;
                container.appendChild(flake);
                setTimeout(() => flake.remove(), 12000);
            }, 350);
        }
        createSnow();
    </script>
</body>
</html>